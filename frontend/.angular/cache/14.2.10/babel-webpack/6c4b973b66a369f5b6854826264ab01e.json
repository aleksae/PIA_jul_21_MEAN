{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ea200304d/Desktop/ETF/rti.PIA/K2_MEAN_rokovi/jul_21/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../servis.service\";\nimport * as i3 from \"@angular/common\";\n\nfunction KandidatComponent_tr_8_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const p_r1 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.prijava.vrsta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.brojPoena);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.datum);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r1.prijava.mesto_naziv);\n  }\n}\n\nexport class KandidatComponent {\n  constructor(router, servis) {\n    this.router = router;\n    this.servis = servis;\n    this.polaganja = [];\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.ulogovan = JSON.parse(localStorage.getItem(\"ulogovan\"));\n      yield _this.servis.sve_prijave_za_usera(_this.ulogovan.username).subscribe( /*#__PURE__*/function () {\n        var _ref = _asyncToGenerator(function* (res) {\n          if (res) {\n            for (let r of res) {\n              yield _this.servis.mesto_za_id(r.mesto).subscribe(resss => {\n                r.mesto_naziv = resss['naziv'];\n              });\n              yield _this.servis.dohvati_polaganje(r.idPrijava).subscribe(ress => {\n                if (ress) {\n                  ress.prijava = r;\n\n                  _this.polaganja.push(ress);\n                }\n              });\n            }\n          }\n        });\n\n        return function (_x) {\n          return _ref.apply(this, arguments);\n        };\n      }());\n    })();\n  }\n\n  logout() {\n    localStorage.removeItem(\"ulogovan\");\n    this.router.navigate([\"\"]);\n  }\n\n}\n\nKandidatComponent.ɵfac = function KandidatComponent_Factory(t) {\n  return new (t || KandidatComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ServisService));\n};\n\nKandidatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KandidatComponent,\n  selectors: [[\"app-kandidat\"]],\n  decls: 9,\n  vars: 7,\n  consts: [[3, \"click\"], [4, \"ngFor\", \"ngForOf\"]],\n  template: function KandidatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0);\n      i0.ɵɵpipe(1, \"date\");\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function KandidatComponent_Template_button_click_2_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(3, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h4\");\n      i0.ɵɵtext(5, \"Polaganja\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"table\");\n      i0.ɵɵelement(7, \"tr\");\n      i0.ɵɵtemplate(8, KandidatComponent_tr_8_Template, 9, 4, \"tr\", 1);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵtextInterpolate3(\"\", ctx.ulogovan.ime, \" \", ctx.ulogovan.prezime, \", \", i0.ɵɵpipeBind2(1, 4, ctx.ulogovan.datumRodjenja, \"mediumDate\"), \"\");\n      i0.ɵɵadvance(8);\n      i0.ɵɵproperty(\"ngForOf\", ctx.polaganja);\n    }\n  },\n  dependencies: [i3.NgForOf, i3.DatePipe],\n  styles: [\"\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsImZpbGUiOiJrYW5kaWRhdC5jb21wb25lbnQuY3NzIn0= */\"]\n});","map":{"version":3,"mappings":";;;;;;;;IAQIA,2BAAgC,CAAhC,EAAgC,IAAhC;IACQA;IAAmBA;IACvBA;IAAIA;IAAeA;IACnBA;IAAIA;IAAWA;IACfA;IAAIA;IAAyBA;;;;;IAHzBA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;IACAA;IAAAA;;;;ACAZ,OAAM,MAAOC,iBAAP,CAAwB;EAE5BC,YAAoBC,MAApB,EAA2CC,MAA3C,EAA+D;IAA3C;IAAuB;IAE3C,iBAAwB,EAAxB;EAFoE;;EAI9DC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,QAAL,GAAcC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAd;MACA,MAAM,KAAI,CAACN,MAAL,CAAYO,oBAAZ,CAAiC,KAAI,CAACL,QAAL,CAAcM,QAA/C,EAAyDC,SAAzD;QAAA,6BAAmE,WAAOC,GAAP,EAAuB;UAC9F,IAAGA,GAAH,EAAO;YACL,KAAI,IAAIC,CAAR,IAAaD,GAAb,EAAiB;cACf,MAAM,KAAI,CAACV,MAAL,CAAYY,WAAZ,CAAwBD,CAAC,CAACE,KAA1B,EAAiCJ,SAAjC,CAA4CK,KAAD,IAAS;gBACxDH,CAAC,CAACI,WAAF,GAAcD,KAAK,CAAC,OAAD,CAAnB;cACD,CAFK,CAAN;cAGA,MAAM,KAAI,CAACd,MAAL,CAAYgB,iBAAZ,CAA8BL,CAAC,CAACM,SAAhC,EAA2CR,SAA3C,CAAsDS,IAAD,IAAkB;gBAC3E,IAAGA,IAAH,EAAQ;kBACNA,IAAI,CAACC,OAAL,GAAeR,CAAf;;kBACA,KAAI,CAACS,SAAL,CAAeC,IAAf,CAAoBH,IAApB;gBACD;cACF,CALK,CAAN;YAMD;UACF;QACF,CAdK;;QAAA;UAAA;QAAA;MAAA,IAAN;IAFY;EAiBb;;EACDI,MAAM;IACJjB,YAAY,CAACkB,UAAb,CAAwB,UAAxB;IACA,KAAKxB,MAAL,CAAYyB,QAAZ,CAAqB,CAAC,EAAD,CAArB;EACD;;AA3B2B;;;mBAAjB3B,mBAAiBD;AAAA;;;QAAjBC;EAAiB4B;EAAAC;EAAAC;EAAAC;EAAAC;IAAA;MDZ9BjC;;MAAqFA;MAAQA;QAAA,OAASkC,YAAT;MAAiB,CAAjB;MAAmBlC;MAAMA;MAGtHA;MAAIA;MAASA;MACbA;MACIA;MAGAA;MAMJA;;;;MAdAA;MAQsBA;MAAAA","names":["i0","KandidatComponent","constructor","router","servis","ngOnInit","ulogovan","JSON","parse","localStorage","getItem","sve_prijave_za_usera","username","subscribe","res","r","mesto_za_id","mesto","resss","mesto_naziv","dohvati_polaganje","idPrijava","ress","prijava","polaganja","push","logout","removeItem","navigate","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\K2_MEAN_rokovi\\jul_21\\frontend\\src\\app\\kandidat\\kandidat.component.html","C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\K2_MEAN_rokovi\\jul_21\\frontend\\src\\app\\kandidat\\kandidat.component.ts"],"sourcesContent":["{{ulogovan.ime}} {{ulogovan.prezime}}, {{ulogovan.datumRodjenja | date:'mediumDate'}}<button (click)=\"logout()\">Logout</button>\n\n\n<h4>Polaganja</h4>\n<table>\n    <tr>\n\n    </tr>\n    <tr *ngFor=\"let p of polaganja\">\n        <td>{{p.prijava.vrsta}}</td>\n        <td>{{p.brojPoena}}</td>\n        <td>{{p.datum}}</td>\n        <td>{{p.prijava.mesto_naziv}}</td>\n    </tr>\n</table>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Korisnik } from '../models/korisnik';\nimport { ServisService } from '../servis.service';\nimport { Prijava } from '../models/prijava';\nimport { Polaganje } from '../models/polaganje';\n\n@Component({\n  selector: 'app-kandidat',\n  templateUrl: './kandidat.component.html',\n  styleUrls: ['./kandidat.component.css']\n})\nexport class KandidatComponent implements OnInit {\n\n  constructor(private router:Router, private servis:ServisService) { }\n\n  polaganja:Polaganje[] = []\n  ulogovan:Korisnik\n  async ngOnInit() : void {\n    this.ulogovan=JSON.parse(localStorage.getItem(\"ulogovan\"))\n    await this.servis.sve_prijave_za_usera(this.ulogovan.username).subscribe(async (res:Prijava[])=>{\n      if(res){\n        for(let r of res){\n          await this.servis.mesto_za_id(r.mesto).subscribe((resss)=>{\n            r.mesto_naziv=resss['naziv']\n          })\n          await this.servis.dohvati_polaganje(r.idPrijava).subscribe((ress:Polaganje)=>{\n            if(ress){\n              ress.prijava = r\n              this.polaganja.push(ress)\n            }\n          })\n        }\n      }\n    })\n  }\n  logout(){\n    localStorage.removeItem(\"ulogovan\")\n    this.router.navigate([\"\"])\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}