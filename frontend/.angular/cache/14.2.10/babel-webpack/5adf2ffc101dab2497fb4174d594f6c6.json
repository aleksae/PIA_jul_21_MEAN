{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ea200304d/Desktop/ETF/rti.PIA/K2_MEAN_rokovi/jul_21/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet KandidatComponent = class KandidatComponent {\n  constructor(router, servis) {\n    this.router = router;\n    this.servis = servis;\n    this.polaganja = [];\n    this.polozena_teorija = false;\n    this.polozena_voznja = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.ulogovan = JSON.parse(localStorage.getItem(\"ulogovan\"));\n\n      _this.servis.sve_prijave_za_usera(_this.ulogovan.username).subscribe(res => {\n        console.log(\"usao\");\n\n        if (res) {\n          for (let r of res) {\n            _this.servis.mesto_za_id(r.mesto).subscribe(resss => {\n              r.mesto_naziv = resss['naziv'];\n            });\n\n            _this.servis.dohvati_polaganje(r.idPrijava).subscribe(ress => {\n              if (ress) {\n                ress.prijava = r;\n\n                _this.polaganja.push(ress);\n\n                if (ress.polozio && ress.prijava.vrsta == 't') _this.polozena_teorija = true;\n                if (ress.polozio && ress.prijava.vrsta == 'v') _this.polozena_voznja = true;\n              }\n            });\n          }\n        }\n      });\n    })();\n  }\n\n  logout() {\n    localStorage.removeItem(\"ulogovan\");\n    this.router.navigate([\"\"]);\n  }\n\n};\nKandidatComponent = __decorate([Component({\n  selector: 'app-kandidat',\n  templateUrl: './kandidat.component.html',\n  styleUrls: ['./kandidat.component.css']\n})], KandidatComponent);\nexport { KandidatComponent };","map":{"version":3,"mappings":";;AAAA,SAASA,SAAT,QAAkC,eAAlC;AAYA,IAAaC,iBAAiB,GAA9B,MAAaA,iBAAb,CAA8B;EAE5BC,YAAoBC,MAApB,EAA2CC,MAA3C,EAA+D;IAA3C;IAAuB;IAE3C,iBAAwB,EAAxB;IAEA,wBAA2B,KAA3B;IACA,uBAA0B,KAA1B;EALoE;;EAM9DC,QAAQ;IAAA;;IAAA;MACZ,KAAI,CAACC,QAAL,GAAcC,IAAI,CAACC,KAAL,CAAWC,YAAY,CAACC,OAAb,CAAqB,UAArB,CAAX,CAAd;;MACA,KAAI,CAACN,MAAL,CAAYO,oBAAZ,CAAiC,KAAI,CAACL,QAAL,CAAcM,QAA/C,EAAyDC,SAAzD,CAAoEC,GAAD,IAAiB;QAClFC,OAAO,CAACC,GAAR,CAAY,MAAZ;;QACA,IAAGF,GAAH,EAAO;UACL,KAAI,IAAIG,CAAR,IAAaH,GAAb,EAAiB;YACf,KAAI,CAACV,MAAL,CAAYc,WAAZ,CAAwBD,CAAC,CAACE,KAA1B,EAAiCN,SAAjC,CAA4CO,KAAD,IAAS;cAClDH,CAAC,CAACI,WAAF,GAAcD,KAAK,CAAC,OAAD,CAAnB;YACD,CAFD;;YAIA,KAAI,CAAChB,MAAL,CAAYkB,iBAAZ,CAA8BL,CAAC,CAACM,SAAhC,EAA2CV,SAA3C,CAAsDW,IAAD,IAAkB;cACrE,IAAGA,IAAH,EAAQ;gBACNA,IAAI,CAACC,OAAL,GAAeR,CAAf;;gBACA,KAAI,CAACS,SAAL,CAAeC,IAAf,CAAoBH,IAApB;;gBACA,IAAGA,IAAI,CAACI,OAAL,IAAgBJ,IAAI,CAACC,OAAL,CAAaI,KAAb,IAAoB,GAAvC,EAA4C,KAAI,CAACC,gBAAL,GAAwB,IAAxB;gBAC5C,IAAGN,IAAI,CAACI,OAAL,IAAgBJ,IAAI,CAACC,OAAL,CAAaI,KAAb,IAAoB,GAAvC,EAA4C,KAAI,CAACE,eAAL,GAAuB,IAAvB;cAC7C;YACF,CAPD;UAQD;QACF;MACF,CAlBD;IAFY;EAqBb;;EACDC,MAAM;IACJvB,YAAY,CAACwB,UAAb,CAAwB,UAAxB;IACA,KAAK9B,MAAL,CAAY+B,QAAZ,CAAqB,CAAC,EAAD,CAArB;EACD;;AAjC2B,CAA9B;AAAajC,iBAAiB,eAL7BD,SAAS,CAAC;EACTmC,QAAQ,EAAE,cADD;EAETC,WAAW,EAAE,2BAFJ;EAGTC,SAAS,EAAE,CAAC,0BAAD;AAHF,CAAD,CAKoB,GAAjBpC,iBAAiB,CAAjB;SAAAA","names":["Component","KandidatComponent","constructor","router","servis","ngOnInit","ulogovan","JSON","parse","localStorage","getItem","sve_prijave_za_usera","username","subscribe","res","console","log","r","mesto_za_id","mesto","resss","mesto_naziv","dohvati_polaganje","idPrijava","ress","prijava","polaganja","push","polozio","vrsta","polozena_teorija","polozena_voznja","logout","removeItem","navigate","selector","templateUrl","styleUrls"],"sourceRoot":"","sources":["C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\K2_MEAN_rokovi\\jul_21\\frontend\\src\\app\\kandidat\\kandidat.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Korisnik } from '../models/korisnik';\nimport { ServisService } from '../servis.service';\nimport { Prijava } from '../models/prijava';\nimport { Polaganje } from '../models/polaganje';\n\n@Component({\n  selector: 'app-kandidat',\n  templateUrl: './kandidat.component.html',\n  styleUrls: ['./kandidat.component.css']\n})\nexport class KandidatComponent implements OnInit {\n\n  constructor(private router:Router, private servis:ServisService) { }\n\n  polaganja:Polaganje[] = []\n  ulogovan:Korisnik\n  polozena_teorija:boolean = false\n  polozena_voznja:boolean = false\n  async ngOnInit(){\n    this.ulogovan=JSON.parse(localStorage.getItem(\"ulogovan\"))\n    this.servis.sve_prijave_za_usera(this.ulogovan.username).subscribe((res:Prijava[])=>{\n      console.log(\"usao\")\n      if(res){\n        for(let r of res){\n          this.servis.mesto_za_id(r.mesto).subscribe((resss)=>{\n            r.mesto_naziv=resss['naziv']\n          })\n         \n          this.servis.dohvati_polaganje(r.idPrijava).subscribe((ress:Polaganje)=>{\n            if(ress){\n              ress.prijava = r\n              this.polaganja.push(ress)\n              if(ress.polozio && ress.prijava.vrsta=='t') this.polozena_teorija = true\n              if(ress.polozio && ress.prijava.vrsta=='v') this.polozena_voznja = true\n            }\n          })\n        }\n      }\n    })\n  }\n  logout(){\n    localStorage.removeItem(\"ulogovan\")\n    this.router.navigate([\"\"])\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}