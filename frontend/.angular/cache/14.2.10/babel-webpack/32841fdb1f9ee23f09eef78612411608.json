{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/ea200304d/Desktop/ETF/rti.PIA/K2_MEAN_rokovi/jul_21/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/router\";\nimport * as i2 from \"../servis.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction KandidatComponent_tr_18_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\");\n    i0.ɵɵtext(10);\n    i0.ɵɵelementEnd()();\n  }\n\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.prijava.vrsta);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.brojPoena);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.datum);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.prijava.mesto_naziv);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.inspektor);\n  }\n}\n\nfunction KandidatComponent_option_30_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"option\", 6);\n    i0.ɵɵtext(1);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const s_r3 = ctx.$implicit;\n    const ctx_r1 = i0.ɵɵnextContext();\n    i0.ɵɵproperty(\"selected\", s_r3[\"idMesto\"] == ctx_r1.ulogovan.mesto);\n    i0.ɵɵadvance(1);\n    i0.ɵɵtextInterpolate(s_r3[\"naziv\"]);\n  }\n}\n\nexport class KandidatComponent {\n  constructor(router, servis) {\n    this.router = router;\n    this.servis = servis;\n    this.polaganja = [];\n    this.polozena_teorija = false;\n    this.polozena_voznja = false;\n  }\n\n  ngOnInit() {\n    var _this = this;\n\n    return _asyncToGenerator(function* () {\n      _this.ulogovan = JSON.parse(localStorage.getItem(\"ulogovan\"));\n\n      _this.servis.sva_mesta().subscribe(res => {\n        _this.sva_mesta = res;\n      });\n\n      _this.servis.sve_prijave_za_usera(_this.ulogovan.username).subscribe(res => {\n        console.log(\"usao\");\n\n        if (res) {\n          for (let r of res) {\n            _this.servis.mesto_za_id(r.mesto).subscribe(resss => {\n              r.mesto_naziv = resss['naziv'];\n            });\n\n            _this.servis.dohvati_polaganje(r.idPrijava).subscribe(ress => {\n              if (ress) {\n                ress.prijava = r;\n\n                _this.polaganja.push(ress);\n\n                if (ress.polozio && ress.prijava.vrsta == 't') _this.polozena_teorija = true;\n                if (ress.polozio && ress.prijava.vrsta == 'v') _this.polozena_voznja = true;\n              }\n            });\n          }\n        }\n      });\n    })();\n  }\n\n  logout() {\n    localStorage.removeItem(\"ulogovan\");\n    this.router.navigate([\"\"]);\n  }\n\n  dodaj() {\n    if (!this.tip || !this.grad) return;\n    const data = {\n      vrsta: this.tip,\n      mesto: this.grad,\n      username: this.ulogovan.username,\n      status: '0'\n    };\n  }\n\n}\n\nKandidatComponent.ɵfac = function KandidatComponent_Factory(t) {\n  return new (t || KandidatComponent)(i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.ServisService));\n};\n\nKandidatComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: KandidatComponent,\n  selectors: [[\"app-kandidat\"]],\n  decls: 31,\n  vars: 12,\n  consts: [[3, \"click\"], [4, \"ngFor\", \"ngForOf\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"t\", 3, \"disabled\"], [\"value\", \"v\", 3, \"disabled\"], [\"value\", \"s['idMesto']\", 3, \"selected\", 4, \"ngFor\", \"ngForOf\"], [\"value\", \"s['idMesto']\", 3, \"selected\"]],\n  template: function KandidatComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵtext(0);\n      i0.ɵɵpipe(1, \"date\");\n      i0.ɵɵelementStart(2, \"button\", 0);\n      i0.ɵɵlistener(\"click\", function KandidatComponent_Template_button_click_2_listener() {\n        return ctx.logout();\n      });\n      i0.ɵɵtext(3, \"Logout\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(4, \"h4\");\n      i0.ɵɵtext(5, \"Polaganja\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(6, \"table\")(7, \"tr\")(8, \"td\");\n      i0.ɵɵtext(9, \"vrsta\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(10, \"td\");\n      i0.ɵɵtext(11, \"br poena\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(12, \"td\");\n      i0.ɵɵtext(13, \"datum\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(14, \"td\");\n      i0.ɵɵtext(15, \"mesto\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(16, \"td\");\n      i0.ɵɵtext(17, \"inspektor\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵtemplate(18, KandidatComponent_tr_18_Template, 11, 5, \"tr\", 1);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(19, \"h4\");\n      i0.ɵɵtext(20, \"Forma\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵtext(21, \"\\nTip: \");\n      i0.ɵɵelementStart(22, \"select\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function KandidatComponent_Template_select_ngModelChange_22_listener($event) {\n        return ctx.tip = $event;\n      });\n      i0.ɵɵelementStart(23, \"option\", 3);\n      i0.ɵɵtext(24, \"Test\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(25, \"option\", 4);\n      i0.ɵɵtext(26, \"Voznja\");\n      i0.ɵɵelementEnd()();\n      i0.ɵɵelement(27, \"br\");\n      i0.ɵɵtext(28, \"\\nMesto:\");\n      i0.ɵɵelementStart(29, \"select\", 2);\n      i0.ɵɵlistener(\"ngModelChange\", function KandidatComponent_Template_select_ngModelChange_29_listener($event) {\n        return ctx.grad = $event;\n      });\n      i0.ɵɵtemplate(30, KandidatComponent_option_30_Template, 2, 2, \"option\", 5);\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵtextInterpolate3(\"\", ctx.ulogovan.ime, \" \", ctx.ulogovan.prezime, \", \", i0.ɵɵpipeBind2(1, 9, ctx.ulogovan.datumRodjenja, \"mediumDate\"), \"\");\n      i0.ɵɵadvance(18);\n      i0.ɵɵproperty(\"ngForOf\", ctx.polaganja);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.tip);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"disabled\", ctx.polozena_teorija);\n      i0.ɵɵadvance(2);\n      i0.ɵɵproperty(\"disabled\", ctx.polozena_voznja);\n      i0.ɵɵadvance(4);\n      i0.ɵɵproperty(\"ngModel\", ctx.grad);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"ngForOf\", ctx.sva_mesta);\n    }\n  },\n  dependencies: [i3.NgForOf, i4.NgSelectOption, i4.ɵNgSelectMultipleOption, i4.SelectControlValueAccessor, i4.NgControlStatus, i4.NgModel, i3.DatePipe],\n  styles: [\"table[_ngcontent-%COMP%], tr[_ngcontent-%COMP%], td[_ngcontent-%COMP%]{\\r\\n    border: 1px solid;\\r\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImthbmRpZGF0LmNvbXBvbmVudC5jc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7SUFDSSxpQkFBaUI7QUFDckIiLCJmaWxlIjoia2FuZGlkYXQuY29tcG9uZW50LmNzcyIsInNvdXJjZXNDb250ZW50IjpbInRhYmxlLCB0ciwgdGR7XHJcbiAgICBib3JkZXI6IDFweCBzb2xpZDtcclxufSJdfQ== */\"]\n});","map":{"version":3,"mappings":"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","names":["i0","KandidatComponent","constructor","router","servis","ngOnInit","ulogovan","JSON","parse","localStorage","getItem","sva_mesta","subscribe","res","sve_prijave_za_usera","username","console","log","r","mesto_za_id","mesto","resss","mesto_naziv","dohvati_polaganje","idPrijava","ress","prijava","polaganja","push","polozio","vrsta","polozena_teorija","polozena_voznja","logout","removeItem","navigate","dodaj","tip","grad","data","status","selectors","decls","vars","consts","template","ctx"],"sourceRoot":"","sources":["C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\K2_MEAN_rokovi\\jul_21\\frontend\\src\\app\\kandidat\\kandidat.component.html","C:\\Users\\ea200304d\\Desktop\\ETF\\rti.PIA\\K2_MEAN_rokovi\\jul_21\\frontend\\src\\app\\kandidat\\kandidat.component.ts"],"sourcesContent":["{{ulogovan.ime}} {{ulogovan.prezime}}, {{ulogovan.datumRodjenja | date:'mediumDate'}}<button (click)=\"logout()\">Logout</button>\n\n\n<h4>Polaganja</h4>\n<table>\n    <tr>\n        <td>vrsta</td>\n        <td>br poena</td>\n        <td>datum</td>\n        <td>mesto</td>\n        <td>inspektor</td>\n    </tr>\n    <tr *ngFor=\"let p of polaganja\">\n        <td>{{p.prijava.vrsta}}</td>\n        <td>{{p.brojPoena}}</td>\n        <td>{{p.datum}}</td>\n        <td>{{p.prijava.mesto_naziv}}</td>\n        <td>{{p.inspektor}}</td>\n    </tr>\n</table>\n\n<h4>Forma</h4>\nTip: <select [(ngModel)]=\"tip\">\n    <option [disabled]=\"polozena_teorija\" value=\"t\">Test</option>\n    <option [disabled]=\"polozena_voznja\" value=\"v\">Voznja</option>\n</select>\n<br>\nMesto:<select [(ngModel)]=\"grad\">\n    <option *ngFor=\"let s of sva_mesta\" value=\"s['idMesto']\" [selected]=\"s['idMesto']==ulogovan.mesto\">{{s['naziv']}}</option>\n</select>\n","import { Component, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Korisnik } from '../models/korisnik';\nimport { ServisService } from '../servis.service';\nimport { Prijava } from '../models/prijava';\nimport { Polaganje } from '../models/polaganje';\n\n@Component({\n  selector: 'app-kandidat',\n  templateUrl: './kandidat.component.html',\n  styleUrls: ['./kandidat.component.css']\n})\nexport class KandidatComponent implements OnInit {\n\n  constructor(private router:Router, private servis:ServisService) { }\n\n  polaganja:Polaganje[] = []\n  ulogovan:Korisnik\n  polozena_teorija:boolean = false\n  polozena_voznja:boolean = false\n  tip:string;\n  grad:number;\n  sva_mesta:any[]\n  async ngOnInit(){\n    this.ulogovan=JSON.parse(localStorage.getItem(\"ulogovan\"))\n    this.servis.sva_mesta().subscribe((res:any[])=>{\n      this.sva_mesta = res\n    })\n    this.servis.sve_prijave_za_usera(this.ulogovan.username).subscribe((res:Prijava[])=>{\n      console.log(\"usao\")\n      if(res){\n        for(let r of res){\n          this.servis.mesto_za_id(r.mesto).subscribe((resss)=>{\n            r.mesto_naziv=resss['naziv']\n          })\n         \n          this.servis.dohvati_polaganje(r.idPrijava).subscribe((ress:Polaganje)=>{\n            if(ress){\n              ress.prijava = r\n              this.polaganja.push(ress)\n              if(ress.polozio && ress.prijava.vrsta=='t') this.polozena_teorija = true\n              if(ress.polozio && ress.prijava.vrsta=='v') this.polozena_voznja = true\n            }\n          })\n        }\n      }\n    })\n  }\n  logout(){\n    localStorage.removeItem(\"ulogovan\")\n    this.router.navigate([\"\"])\n  }\n  dodaj(){\n    if(!this.tip || !this.grad) return;\n    const data={\n      vrsta:this.tip,\n      mesto:this.grad,\n      username:this.ulogovan.username,\n      status:'0'\n\n    }\n  }\n\n}\n"]},"metadata":{},"sourceType":"module"}